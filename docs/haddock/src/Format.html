<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-comment">{-|
Module: Format
Description: Formatting the output of the interpreter
License: GPL-3

This module controls the format of the text and expressions printed by the
interpreter. Uses ANSI escape sequences to color the terminal and mark text
as bold or italics. It also stores the texts showed by the interpreter.
-}</span><span>
</span><a name="line-10"></a><span>
</span><a name="line-11"></a><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Format</span><span>
</span><a name="line-12"></a><span>  </span><span class="hs-special">(</span><span>
</span><a name="line-13"></a><span>  </span><span class="hs-comment">-- * Formatting</span><span>
</span><a name="line-14"></a><span>    </span><a href="Format.html#formatFormula"><span class="hs-identifier hs-var">formatFormula</span></a><span>
</span><a name="line-15"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="Format.html#formatIntro"><span class="hs-identifier hs-var">formatIntro</span></a><span>
</span><a name="line-16"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="Format.html#formatLoading"><span class="hs-identifier hs-var">formatLoading</span></a><span>
</span><a name="line-17"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="Format.html#formatPrompt"><span class="hs-identifier hs-var">formatPrompt</span></a><span>
</span><a name="line-18"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="Format.html#formatName"><span class="hs-identifier hs-var">formatName</span></a><span>
</span><a name="line-19"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="Format.html#formatSubs1"><span class="hs-identifier hs-var">formatSubs1</span></a><span>
</span><a name="line-20"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="Format.html#formatSubs2"><span class="hs-identifier hs-var">formatSubs2</span></a><span>
</span><a name="line-21"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="Format.html#formatType"><span class="hs-identifier hs-var">formatType</span></a><span>
</span><a name="line-22"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="Format.html#decolor"><span class="hs-identifier hs-var">decolor</span></a><span>
</span><a name="line-23"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="Format.html#end"><span class="hs-identifier hs-var">end</span></a><span>
</span><a name="line-24"></a><span>
</span><a name="line-25"></a><span>  </span><span class="hs-comment">-- * Interpreter texts</span><span>
</span><a name="line-26"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="Format.html#promptText"><span class="hs-identifier hs-var">promptText</span></a><span>
</span><a name="line-27"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="Format.html#helpText"><span class="hs-identifier hs-var">helpText</span></a><span>
</span><a name="line-28"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="Format.html#initialText"><span class="hs-identifier hs-var">initialText</span></a><span>
</span><a name="line-29"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="Format.html#versionText"><span class="hs-identifier hs-var">versionText</span></a><span>
</span><a name="line-30"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="Format.html#restartText"><span class="hs-identifier hs-var">restartText</span></a><span>
</span><a name="line-31"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="Format.html#errorNonTypeableText"><span class="hs-identifier hs-var">errorNonTypeableText</span></a><span>
</span><a name="line-32"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="Format.html#errorTypeConstructors"><span class="hs-identifier hs-var">errorTypeConstructors</span></a><span>
</span><a name="line-33"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="Format.html#errorUndefinedText"><span class="hs-identifier hs-var">errorUndefinedText</span></a><span>
</span><a name="line-34"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="Format.html#errorUnknownCommand"><span class="hs-identifier hs-var">errorUnknownCommand</span></a><span>
</span><a name="line-35"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="Format.html#errorNotFoundText"><span class="hs-identifier hs-var">errorNotFoundText</span></a><span>
</span><a name="line-36"></a><span>  </span><span class="hs-special">)</span><span>
</span><a name="line-37"></a><span class="hs-keyword">where</span><span>
</span><a name="line-38"></a><span>
</span><a name="line-39"></a><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">System</span><span class="hs-operator">.</span><span class="hs-identifier">Console</span><span class="hs-operator">.</span><span class="hs-identifier">ANSI</span><span>
</span><a name="line-40"></a><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">Data</span><span class="hs-operator">.</span><span class="hs-identifier">List</span><span>
</span><a name="line-41"></a><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">Data</span><span class="hs-operator">.</span><span class="hs-identifier">Monoid</span><span>
</span><a name="line-42"></a><span>
</span><a name="line-43"></a><span class="hs-comment">-- | Colors used on the prompt.</span><span>
</span><a name="line-44"></a><span class="hs-identifier">promptColor</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">nameColor</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">substColor</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">subst2Color</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">typeColor</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">errorColor</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">Color</span><span>
</span><a name="line-45"></a><a name="promptColor"><a href="Format.html#promptColor"><span class="hs-identifier">promptColor</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">Blue</span><span>
</span><a name="line-46"></a><a name="nameColor"><a href="Format.html#nameColor"><span class="hs-identifier">nameColor</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">Green</span><span>
</span><a name="line-47"></a><a name="substColor"><a href="Format.html#substColor"><span class="hs-identifier">substColor</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">Cyan</span><span>
</span><a name="line-48"></a><a name="subst2Color"><a href="Format.html#subst2Color"><span class="hs-identifier">subst2Color</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">Cyan</span><span>
</span><a name="line-49"></a><a name="typeColor"><a href="Format.html#typeColor"><span class="hs-identifier">typeColor</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">Yellow</span><span>
</span><a name="line-50"></a><a name="errorColor"><a href="Format.html#errorColor"><span class="hs-identifier">errorColor</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">Red</span><span>
</span><a name="line-51"></a><span>
</span><a name="line-52"></a><span class="hs-comment">-- Format sequences</span><span>
</span><a name="line-53"></a><span class="hs-comment">-- | Sequence of characters that signals the format of a formula to the terminal.</span><span>
</span><a name="line-54"></a><span class="hs-identifier">formatFormula</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">formatIntro</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">formatLoading</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">formatPrompt</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">formatName</span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">String</span><span>
</span><a name="line-55"></a><span class="hs-identifier">formatSubs1</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">formatSubs2</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">formatType</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">formatError</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">String</span><span>
</span><a name="line-56"></a><a name="formatFormula"><a href="Format.html#formatFormula"><span class="hs-identifier">formatFormula</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">setSGRCode</span><span> </span><span class="hs-special">[</span><span class="hs-identifier hs-var">SetConsoleIntensity</span><span> </span><span class="hs-identifier hs-var">NormalIntensity</span><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-var">SetColor</span><span> </span><span class="hs-identifier hs-var">Foreground</span><span> </span><span class="hs-identifier hs-var">Dull</span><span> </span><a href="Format.html#promptColor"><span class="hs-identifier hs-var">promptColor</span></a><span class="hs-special">]</span><span>
</span><a name="line-57"></a><a name="formatIntro"><a href="Format.html#formatIntro"><span class="hs-identifier">formatIntro</span></a></a><span>   </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">setSGRCode</span><span> </span><span class="hs-special">[</span><span class="hs-identifier hs-var">SetConsoleIntensity</span><span> </span><span class="hs-identifier hs-var">BoldIntensity</span><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-var">SetColor</span><span> </span><span class="hs-identifier hs-var">Foreground</span><span> </span><span class="hs-identifier hs-var">Dull</span><span> </span><a href="Format.html#promptColor"><span class="hs-identifier hs-var">promptColor</span></a><span class="hs-special">]</span><span>
</span><a name="line-58"></a><a name="formatLoading"><a href="Format.html#formatLoading"><span class="hs-identifier">formatLoading</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Format.html#formatIntro"><span class="hs-identifier hs-var">formatIntro</span></a><span>
</span><a name="line-59"></a><a name="formatPrompt"><a href="Format.html#formatPrompt"><span class="hs-identifier">formatPrompt</span></a></a><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">setSGRCode</span><span> </span><span class="hs-special">[</span><span class="hs-identifier hs-var">SetConsoleIntensity</span><span> </span><span class="hs-identifier hs-var">BoldIntensity</span><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-var">SetColor</span><span> </span><span class="hs-identifier hs-var">Foreground</span><span> </span><span class="hs-identifier hs-var">Vivid</span><span> </span><a href="Format.html#promptColor"><span class="hs-identifier hs-var">promptColor</span></a><span class="hs-special">]</span><span>
</span><a name="line-60"></a><a name="formatName"><a href="Format.html#formatName"><span class="hs-identifier">formatName</span></a></a><span>    </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">setSGRCode</span><span> </span><span class="hs-special">[</span><span class="hs-identifier hs-var">SetColor</span><span> </span><span class="hs-identifier hs-var">Foreground</span><span> </span><span class="hs-identifier hs-var">Dull</span><span> </span><a href="Format.html#nameColor"><span class="hs-identifier hs-var">nameColor</span></a><span class="hs-special">]</span><span>
</span><a name="line-61"></a><a name="formatSubs1"><a href="Format.html#formatSubs1"><span class="hs-identifier">formatSubs1</span></a></a><span>   </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">setSGRCode</span><span> </span><span class="hs-special">[</span><span class="hs-identifier hs-var">SetConsoleIntensity</span><span> </span><span class="hs-identifier hs-var">BoldIntensity</span><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-var">SetColor</span><span> </span><span class="hs-identifier hs-var">Foreground</span><span> </span><span class="hs-identifier hs-var">Dull</span><span> </span><a href="Format.html#substColor"><span class="hs-identifier hs-var">substColor</span></a><span class="hs-special">]</span><span>
</span><a name="line-62"></a><a name="formatSubs2"><a href="Format.html#formatSubs2"><span class="hs-identifier">formatSubs2</span></a></a><span>   </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">setSGRCode</span><span> </span><span class="hs-special">[</span><span class="hs-identifier hs-var">SetConsoleIntensity</span><span> </span><span class="hs-identifier hs-var">FaintIntensity</span><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-var">SetColor</span><span> </span><span class="hs-identifier hs-var">Foreground</span><span> </span><span class="hs-identifier hs-var">Dull</span><span> </span><a href="Format.html#subst2Color"><span class="hs-identifier hs-var">subst2Color</span></a><span class="hs-special">]</span><span>
</span><a name="line-63"></a><a name="formatType"><a href="Format.html#formatType"><span class="hs-identifier">formatType</span></a></a><span>    </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">setSGRCode</span><span> </span><span class="hs-special">[</span><span class="hs-identifier hs-var">SetConsoleIntensity</span><span> </span><span class="hs-identifier hs-var">NormalIntensity</span><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-var">SetColor</span><span> </span><span class="hs-identifier hs-var">Foreground</span><span> </span><span class="hs-identifier hs-var">Dull</span><span> </span><a href="Format.html#typeColor"><span class="hs-identifier hs-var">typeColor</span></a><span class="hs-special">]</span><span>
</span><a name="line-64"></a><a name="formatError"><a href="Format.html#formatError"><span class="hs-identifier">formatError</span></a></a><span>   </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">setSGRCode</span><span> </span><span class="hs-special">[</span><span class="hs-identifier hs-var">SetConsoleIntensity</span><span> </span><span class="hs-identifier hs-var">NormalIntensity</span><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-var">SetColor</span><span> </span><span class="hs-identifier hs-var">Foreground</span><span> </span><span class="hs-identifier hs-var">Dull</span><span> </span><a href="Format.html#errorColor"><span class="hs-identifier hs-var">errorColor</span></a><span class="hs-special">]</span><span>
</span><a name="line-65"></a><span>
</span><a name="line-66"></a><span class="hs-comment">-- | Sequence of characters that cleans all the format.</span><span>
</span><a name="line-67"></a><span class="hs-identifier">end</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">String</span><span>
</span><a name="line-68"></a><a name="end"><a href="Format.html#end"><span class="hs-identifier">end</span></a></a><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">setSGRCode</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><a name="line-69"></a><span>
</span><a name="line-70"></a><span>
</span><a name="line-71"></a><span class="hs-comment">-- | Removes all the ocurrences of a string from the other</span><span>
</span><a name="line-72"></a><span class="hs-identifier">removeString</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">String</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">String</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">String</span><span>
</span><a name="line-73"></a><a name="removeString"><a href="Format.html#removeString"><span class="hs-identifier">removeString</span></a></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-string">&quot;&quot;</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-string">&quot;&quot;</span><span>
</span><a name="line-74"></a><span class="hs-identifier">removeString</span><span> </span><a name="local-6989586621679023451"><a href="#local-6989586621679023451"><span class="hs-identifier">t</span></a></a><span> </span><a name="local-6989586621679023452"><a href="#local-6989586621679023452"><span class="hs-identifier">s</span></a></a><span class="hs-glyph">@</span><span class="hs-special">(</span><a name="local-6989586621679023453"><a href="#local-6989586621679023453"><span class="hs-identifier">c</span></a></a><span class="hs-glyph">:</span><a name="local-6989586621679023454"><a href="#local-6989586621679023454"><span class="hs-identifier">sc</span></a></a><span class="hs-special">)</span><span>
</span><a name="line-75"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a href="#local-6989586621679023451"><span class="hs-identifier hs-var">t</span></a><span> </span><span class="hs-special">`</span><span class="hs-identifier hs-var">isPrefixOf</span><span class="hs-special">`</span><span> </span><a href="#local-6989586621679023452"><span class="hs-identifier hs-var">s</span></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Format.html#removeString"><span class="hs-identifier hs-var">removeString</span></a><span> </span><a href="#local-6989586621679023451"><span class="hs-identifier hs-var">t</span></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">drop</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">length</span><span> </span><a href="#local-6989586621679023451"><span class="hs-identifier hs-var">t</span></a><span class="hs-special">)</span><span> </span><a href="#local-6989586621679023452"><span class="hs-identifier hs-var">s</span></a><span class="hs-special">)</span><span>
</span><a name="line-76"></a><span>  </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier hs-var">otherwise</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679023453"><span class="hs-identifier hs-var">c</span></a><span> </span><span class="hs-glyph">:</span><span> </span><a href="Format.html#removeString"><span class="hs-identifier hs-var">removeString</span></a><span> </span><a href="#local-6989586621679023451"><span class="hs-identifier hs-var">t</span></a><span> </span><a href="#local-6989586621679023454"><span class="hs-identifier hs-var">sc</span></a><span>
</span><a name="line-77"></a><span>
</span><a name="line-78"></a><span class="hs-comment">-- | Removes all color from a string</span><span>
</span><a name="line-79"></a><span class="hs-identifier">decolor</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">String</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">String</span><span>
</span><a name="line-80"></a><a name="decolor"><a href="Format.html#decolor"><span class="hs-identifier">decolor</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">appEndo</span><span> </span><span class="hs-operator hs-var">$</span><span> </span><span class="hs-identifier hs-var">mconcat</span><span> </span><span class="hs-operator hs-var">$</span><span> </span><span class="hs-identifier hs-var">map</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">Endo</span><span> </span><span class="hs-operator hs-var">.</span><span> </span><a href="Format.html#removeString"><span class="hs-identifier hs-var">removeString</span></a><span class="hs-special">)</span><span>
</span><a name="line-81"></a><span>  </span><span class="hs-special">[</span><span> </span><a href="Format.html#formatSubs1"><span class="hs-identifier hs-var">formatSubs1</span></a><span>
</span><a name="line-82"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="Format.html#formatSubs2"><span class="hs-identifier hs-var">formatSubs2</span></a><span>
</span><a name="line-83"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="Format.html#formatFormula"><span class="hs-identifier hs-var">formatFormula</span></a><span>
</span><a name="line-84"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="Format.html#formatIntro"><span class="hs-identifier hs-var">formatIntro</span></a><span>
</span><a name="line-85"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="Format.html#formatName"><span class="hs-identifier hs-var">formatName</span></a><span>
</span><a name="line-86"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="Format.html#formatType"><span class="hs-identifier hs-var">formatType</span></a><span>
</span><a name="line-87"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="Format.html#formatPrompt"><span class="hs-identifier hs-var">formatPrompt</span></a><span>
</span><a name="line-88"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="Format.html#formatLoading"><span class="hs-identifier hs-var">formatLoading</span></a><span>
</span><a name="line-89"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="Format.html#formatError"><span class="hs-identifier hs-var">formatError</span></a><span>
</span><a name="line-90"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="Format.html#end"><span class="hs-identifier hs-var">end</span></a><span>
</span><a name="line-91"></a><span>  </span><span class="hs-special">]</span><span>
</span><a name="line-92"></a><span>
</span><a name="line-93"></a><span>
</span><a name="line-94"></a><span class="hs-comment">-- | Unknown command error message</span><span>
</span><a name="line-95"></a><span class="hs-identifier">errorUnknownCommand</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">String</span><span>
</span><a name="line-96"></a><a name="errorUnknownCommand"><a href="Format.html#errorUnknownCommand"><span class="hs-identifier">errorUnknownCommand</span></a></a><span> </span><span class="hs-glyph">=</span><span>
</span><a name="line-97"></a><span>  </span><a href="Format.html#formatError"><span class="hs-identifier hs-var">formatError</span></a><span> </span><span class="hs-operator hs-var">++</span><span>
</span><a name="line-98"></a><span>  </span><span class="hs-string">&quot;Error: parse error, unknown command&quot;</span><span>
</span><a name="line-99"></a><span>  </span><span class="hs-operator hs-var">++</span><span> </span><a href="Format.html#end"><span class="hs-identifier hs-var">end</span></a><span>
</span><a name="line-100"></a><span>
</span><a name="line-101"></a><span>
</span><a name="line-102"></a><span class="hs-comment">-- | Non typeable expression error message.</span><span>
</span><a name="line-103"></a><span class="hs-identifier">errorNonTypeableText</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">String</span><span>
</span><a name="line-104"></a><a name="errorNonTypeableText"><a href="Format.html#errorNonTypeableText"><span class="hs-identifier">errorNonTypeableText</span></a></a><span> </span><span class="hs-glyph">=</span><span>
</span><a name="line-105"></a><span>  </span><a href="Format.html#formatError"><span class="hs-identifier hs-var">formatError</span></a><span> </span><span class="hs-operator hs-var">++</span><span>
</span><a name="line-106"></a><span>  </span><span class="hs-string">&quot;Error: non typeable expression&quot;</span><span>
</span><a name="line-107"></a><span>  </span><span class="hs-operator hs-var">++</span><span> </span><a href="Format.html#end"><span class="hs-identifier hs-var">end</span></a><span>
</span><a name="line-108"></a><span>
</span><a name="line-109"></a><span class="hs-comment">-- | Type constructors on untyped lambda calculus error message.</span><span>
</span><a name="line-110"></a><span class="hs-identifier">errorTypeConstructors</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">String</span><span>
</span><a name="line-111"></a><a name="errorTypeConstructors"><a href="Format.html#errorTypeConstructors"><span class="hs-identifier">errorTypeConstructors</span></a></a><span> </span><span class="hs-glyph">=</span><span>
</span><a name="line-112"></a><span>  </span><a href="Format.html#formatError"><span class="hs-identifier hs-var">formatError</span></a><span> </span><span class="hs-operator hs-var">++</span><span>
</span><a name="line-113"></a><span>  </span><span class="hs-string">&quot;Error: this expression uses type constructors. You may want to activate ':types on'.&quot;</span><span>
</span><a name="line-114"></a><span>  </span><span class="hs-operator hs-var">++</span><span> </span><a href="Format.html#end"><span class="hs-identifier hs-var">end</span></a><span>
</span><a name="line-115"></a><span>
</span><a name="line-116"></a><span class="hs-comment">-- | Undefined expression error message.</span><span>
</span><a name="line-117"></a><span class="hs-identifier">errorUndefinedText</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">String</span><span>
</span><a name="line-118"></a><a name="errorUndefinedText"><a href="Format.html#errorUndefinedText"><span class="hs-identifier">errorUndefinedText</span></a></a><span> </span><span class="hs-glyph">=</span><span>
</span><a name="line-119"></a><span>  </span><a href="Format.html#formatError"><span class="hs-identifier hs-var">formatError</span></a><span> </span><span class="hs-operator hs-var">++</span><span>
</span><a name="line-120"></a><span>  </span><span class="hs-string">&quot;Error: undefined terms on the lambda expression&quot;</span><span>
</span><a name="line-121"></a><span>  </span><span class="hs-operator hs-var">++</span><span> </span><a href="Format.html#end"><span class="hs-identifier hs-var">end</span></a><span>
</span><a name="line-122"></a><span>
</span><a name="line-123"></a><span class="hs-identifier">errorNotFoundText</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">String</span><span>
</span><a name="line-124"></a><a name="errorNotFoundText"><a href="Format.html#errorNotFoundText"><span class="hs-identifier">errorNotFoundText</span></a></a><span> </span><span class="hs-glyph">=</span><span>
</span><a name="line-125"></a><span>  </span><a href="Format.html#formatError"><span class="hs-identifier hs-var">formatError</span></a><span> </span><span class="hs-operator hs-var">++</span><span>
</span><a name="line-126"></a><span>  </span><span class="hs-string">&quot;Error: module or dependencies cannot be found&quot;</span><span>
</span><a name="line-127"></a><span>  </span><span class="hs-operator hs-var">++</span><span> </span><a href="Format.html#end"><span class="hs-identifier hs-var">end</span></a><span>
</span><a name="line-128"></a><span>
</span><a name="line-129"></a><span class="hs-identifier">restartText</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">String</span><span>
</span><a name="line-130"></a><a name="restartText"><a href="Format.html#restartText"><span class="hs-identifier">restartText</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-string">&quot;Mikrokosmos context has been cleaned up&quot;</span><span>
</span><a name="line-131"></a><span>
</span><a name="line-132"></a><span class="hs-comment">-- | Prompt line. It is shown when the interpreter asks the user</span><span>
</span><a name="line-133"></a><span class="hs-comment">--   to introduce a new command.</span><span>
</span><a name="line-134"></a><span class="hs-identifier">promptText</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">String</span><span>
</span><a name="line-135"></a><a name="promptText"><a href="Format.html#promptText"><span class="hs-identifier">promptText</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Format.html#formatPrompt"><span class="hs-identifier hs-var">formatPrompt</span></a><span> </span><span class="hs-operator hs-var">++</span><span> </span><span class="hs-string">&quot;mikro&gt; &quot;</span><span> </span><span class="hs-operator hs-var">++</span><span> </span><a href="Format.html#end"><span class="hs-identifier hs-var">end</span></a><span>
</span><a name="line-136"></a><span>
</span><a name="line-137"></a><span class="hs-comment">-- | Help line. It is shown when the user uses the :help command.</span><span>
</span><a name="line-138"></a><span class="hs-identifier">helpText</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">String</span><span>
</span><a name="line-139"></a><a name="helpText"><a href="Format.html#helpText"><span class="hs-identifier">helpText</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">unlines</span><span> </span><span class="hs-special">[</span><span>
</span><a name="line-140"></a><span>  </span><a href="Format.html#formatFormula"><span class="hs-identifier hs-var">formatFormula</span></a><span> </span><span class="hs-operator hs-var">++</span><span>
</span><a name="line-141"></a><span>  </span><span class="hs-string">&quot;Commands available from the prompt:&quot;</span><span class="hs-special">,</span><span>
</span><a name="line-142"></a><span>  </span><span class="hs-string">&quot;\t&lt;expression&gt;\t\t evaluates the expression&quot;</span><span class="hs-special">,</span><span>
</span><a name="line-143"></a><span>  </span><span class="hs-string">&quot;\t:quit       \t\t quits the interpreter&quot;</span><span class="hs-special">,</span><span>
</span><a name="line-144"></a><span>  </span><span class="hs-string">&quot;\t:restart    \t\t restarts the interpreter&quot;</span><span class="hs-special">,</span><span>
</span><a name="line-145"></a><span>  </span><span class="hs-string">&quot;\t:load &lt;file&gt;\t\t loads the given .mkr library or script&quot;</span><span class="hs-special">,</span><span>
</span><a name="line-146"></a><span>  </span><span class="hs-string">&quot;\t:verbose &lt;on/off&gt; \t sets verbose mode on/off&quot;</span><span class="hs-special">,</span><span>
</span><a name="line-147"></a><span>  </span><span class="hs-string">&quot;\t:color &lt;on/off&gt; \t sets color mode on/off&quot;</span><span class="hs-special">,</span><span>
</span><a name="line-148"></a><span>  </span><span class="hs-string">&quot;\t:ski &lt;on/off&gt; \t\t sets ski mode on/off&quot;</span><span class="hs-special">,</span><span>
</span><a name="line-149"></a><span>  </span><span class="hs-string">&quot;\t:types &lt;on/off&gt; \t untyped/simply typed lambda calculus&quot;</span><span class="hs-special">,</span><span>
</span><a name="line-150"></a><span>  </span><span class="hs-string">&quot;\t:help       \t\t shows this help&quot;</span><span>
</span><a name="line-151"></a><span>  </span><span class="hs-operator hs-var">++</span><span> </span><a href="Format.html#end"><span class="hs-identifier hs-var">end</span></a><span>
</span><a name="line-152"></a><span>  </span><span class="hs-special">]</span><span>
</span><a name="line-153"></a><span>
</span><a name="line-154"></a><span class="hs-comment">-- | Initial text on the interpreter. It is shown at startup.</span><span>
</span><a name="line-155"></a><span class="hs-identifier">initialText</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">String</span><span>
</span><a name="line-156"></a><a name="initialText"><a href="Format.html#initialText"><span class="hs-identifier">initialText</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">unlines</span><span> </span><span class="hs-special">[</span><span>
</span><a name="line-157"></a><span>  </span><a href="Format.html#formatIntro"><span class="hs-identifier hs-var">formatIntro</span></a><span> </span><span class="hs-operator hs-var">++</span><span> </span><span class="hs-string">&quot;Welcome to the Mikrokosmos Lambda Interpreter!&quot;</span><span> </span><span class="hs-operator hs-var">++</span><span> </span><a href="Format.html#end"><span class="hs-identifier hs-var">end</span></a><span class="hs-special">,</span><span>
</span><a name="line-158"></a><span>  </span><a href="Format.html#formatFormula"><span class="hs-identifier hs-var">formatFormula</span></a><span> </span><span class="hs-operator hs-var">++</span><span> </span><span class="hs-string">&quot;Version &quot;</span><span> </span><span class="hs-operator hs-var">++</span><span> </span><a href="Format.html#version"><span class="hs-identifier hs-var">version</span></a><span> </span><span class="hs-operator hs-var">++</span><span> </span><span class="hs-string">&quot;. GNU General Public License Version 3.&quot;</span><span> </span><span class="hs-operator hs-var">++</span><span> </span><a href="Format.html#end"><span class="hs-identifier hs-var">end</span></a><span>
</span><a name="line-159"></a><span>  </span><span class="hs-special">]</span><span>
</span><a name="line-160"></a><span>
</span><a name="line-161"></a><span class="hs-comment">-- | Version complete text</span><span>
</span><a name="line-162"></a><span class="hs-identifier">versionText</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">String</span><span>
</span><a name="line-163"></a><a name="versionText"><a href="Format.html#versionText"><span class="hs-identifier">versionText</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-string">&quot;Mikrokosmos, version &quot;</span><span> </span><span class="hs-operator hs-var">++</span><span> </span><a href="Format.html#version"><span class="hs-identifier hs-var">version</span></a><span>
</span><a name="line-164"></a><span>
</span><a name="line-165"></a><span class="hs-comment">-- | Version</span><span>
</span><a name="line-166"></a><span class="hs-identifier">version</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">String</span><span>
</span><a name="line-167"></a><a name="version"><a href="Format.html#version"><span class="hs-identifier">version</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-string">&quot;0.7.0&quot;</span><span>
</span><a name="line-168"></a></pre></body></html>